#ifndef KERNEL_DRIVER_CPUID_H
#define KERNEL_DRIVER_CPUID_H

#include "stdint.h"

#define CPUID_FEAT_FPU	0x1L
#define CPUID_FEAT_VME	0x2L
#define CPUID_FEAT_DE	0x4L
#define CPUID_FEAT_PSE	0x8L
#define CPUID_FEAT_TSC	0x10L
#define CPUID_FEAT_MSR	0x20L
#define CPUID_FEAT_PAE	0x40L
#define CPUID_FEAT_MCE	0x80L
#define CPUID_FEAT_CX8	0x100L
#define CPUID_FEAT_APIC	0x200L
#define CPUID_FEAT_SEP	0x800L
#define CPUID_FEAT_MTRR	0x1000L
#define CPUID_FEAT_PGE	0x2000L
#define CPUID_FEAT_MCA	0x4000L
#define CPUID_FEAT_CMOV	0x8000L
#define CPUID_FEAT_PAT	0x10000L
#define CPUID_FEAT_PSE36	0x20000L
#define CPUID_FEAT_PSN	0x40000L
#define CPUID_FEAT_CLF	0x80000L
#define CPUID_FEAT_DTES	0x200000L
#define CPUID_FEAT_ACPI	0x400000L
#define CPUID_FEAT_MMX	0x800000L
#define CPUID_FEAT_FXSR	0x1000000L
#define CPUID_FEAT_SSE	0x2000000L
#define CPUID_FEAT_SSE2 0x4000000L
#define CPUID_FEAT_SS	0x8000000L
#define CPUID_FEAT_HTT	0x10000000L
#define CPUID_FEAT_TM1	0x20000000L
#define CPUID_FEAT_IA64	0x40000000L
#define CPUID_FEAT_PBE	0x80000000L

// TODO Mapping Ecx CPUID

boolean CPUID_IsSupported();

void CPUID_GetVendorString(char* outstr);

uint64_t CPUID_GetFeature();

#endif
